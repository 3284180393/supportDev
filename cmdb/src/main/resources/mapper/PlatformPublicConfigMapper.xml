<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.channelsoft.ccod.support.cmdb.dao.PlatformPublicConfigMapper" >
    <resultMap id="PlatformPublicConfigMap" type="com.channelsoft.ccod.support.cmdb.po.PlatformPublicConfigPo" >
        <id column="plat_pub_cfg_id" property="platPubCfgId" jdbcType="INTEGER" />
        <result column="platform_id" property="platformId" jdbcType="VARCHAR" />
        <result column="file_name" property="fileName" jdbcType="VARCHAR" />
        <result column="ext" property="ext" jdbcType="VARCHAR" />
        <result column="file_size" property="fileSize" jdbcType="INTEGER" />
        <result column="md5" property="md5" jdbcType="VARCHAR" />
        <result column="deploy_path" property="deployPath" jdbcType="VARCHAR" />
        <result column="nexus_repository" property="nexusRepository" jdbcType="VARCHAR" />
        <result column="nexus_path" property="nexusPath" jdbcType="VARCHAR" />
        <result column="nexus_asset_id" property="nexusAssetId" jdbcType="VARCHAR" />
    </resultMap>
    <sql id="Base_Column_List" >
        ppc.plat_pub_cfg_id,
        ppc.platform_id,
        ppc.file_name,
        ppc.ext,
        ppc.file_size,
        ppc.md5,
        ppc.deploy_path,
        ppc.nexus_repository,
        ppc.nexus_path,
        ppc.nexus_asset_id
    </sql>
    <select id="select" resultMap="PlatformPublicConfigMap" parameterType="java.lang.String">
        select
        <include refid="Base_Column_List" />
        from platform_public_config ppc
        where ppc.platform_id=#{platformId,jdbcType=VARCHAR}
    </select>
    <insert id="insert" parameterType="com.channelsoft.ccod.support.cmdb.po.PlatformPublicConfigPo"
            useGeneratedKeys="true" keyProperty="platPubCfgId">
        insert into platform_public_config(
            platform_id,
            file_name,
            ext,
            file_size,
            md5,
            deploy_path,
            nexus_repository,
            nexus_path,
            nexus_asset_id)
        values (
            #{platformId,jdbcType=VARCHAR},
            #{fileName,jdbcType=VARCHAR},
            #{ext,jdbcType=VARCHAR},
            #{fileSize,jdbcType=INTEGER},
            #{md5,jdbcType=VARCHAR},
            #{deployPath,jdbcType=VARCHAR},
            #{nexusRepository,jdbcType=VARCHAR},
            #{nexusPath,jdbcType=VARCHAR},
            #{nexusAssetId,jdbcType=VARCHAR})
    </insert>
    <delete id="delete" parameterType="java.lang.String">
        delete
        from platform_public_config
        where platform_id = #{platformId,jdbcType=VARCHAR}
    </delete>
</mapper>